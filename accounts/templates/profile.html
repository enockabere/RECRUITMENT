{% extends 'offcanvas.html' %}
{% load bootstrap5 %}
{% load static %}
{% block main %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<section class="dash2">
    <div class="content-wrapper general-bg">
        {% include 'alerts.html' %}
        <div class="row">
            <div class="col-md-12">
                <div class="tabs">
                    <input type="radio" id="tab1" name="tab-control" checked>
                    <input type="radio" id="tab2" name="tab-control">
                    <input type="radio" id="tab3" name="tab-control">
                    <input type="radio" id="tab4" name="tab-control">
                    <input type="radio" id="tab5" name="tab-control">
                    <input type="radio" id="tab6" name="tab-control">
                    <input type="radio" id="tab7" name="tab-control">
                    <ul>
                        <li title="Personal Information">
                            <label for="tab1" role="button">
                                <i class="las la-user-check"></i>
                                <br>
                                <span>Personal Information</span>
                            </label>
                        </li>

                        <li title="Education/Training">
                            <label for="tab2" role="button">
                                <i class="las la-user-graduate"></i>
                                <br>
                                <span>Education/Training</span>
                            </label>
                        </li>
                        <li title="Work Experience">
                            <label for="tab3" role="button">
                                <i class="las la-briefcase"></i>
                                <br>
                                <span>Work Experience</span>
                            </label>
                        </li>
                        <li title="Professional Courses">
                            <label for="tab4" role="button">
                                <i class="las la-award"></i>
                                <br>
                                <span>Professional Courses</span>
                            </label>
                        </li>
                        <li title="Professional Memberships">
                            <label for="tab5" role="button">
                                <i class="las la-user-graduate"></i>
                                <br>
                                <span>Professional Memberships</span>
                            </label>
                        </li>
                        <li title="Hobbies">
                            <label for="tab6" role="button">
                                <i class="las la-briefcase"></i>
                                <br>
                                <span>Hobbies</span>
                            </label>
                        </li>
                        <li title="Referees">
                            <label for="tab7" role="button">
                                <i class="las la-award"></i>
                                <br>
                                <span>Referees</span>
                            </label>
                        </li>
                    </ul>

                    <div class="buttons my-4">
                        <button id="prevBtn"><i class="las la-angle-double-left"></i>Prev</button>
                        <button id="nextBtn">Next <i class="las la-angle-double-right"></i></button>
                    </div>
                    <div class="content">
                        <section>
                            <h2 class="my-4 text-center mx-auto">Personal Information</h2>
                            <form action="{% url 'FnApplicantDetails' %}" method="post" id="FnApplicantDetails"
                                novalidate>
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="form-label">First Name</label>
                                        <input type="text" class="form-control" name="firstName"
                                            value="{{applicant.First_Name}}" placeholder="{{applicant.First_Name}}"
                                            required>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Middle Name</label>
                                        <input type="text" class="form-control" name="middleName"
                                            value="{{applicant.Middle_Name}}" placeholder="{{applicant.Middle_Name}}"
                                            required>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Last Name</label>
                                        <input type="text" class="form-control" name="lastName"
                                            value="{{applicant.Last_Name}}" placeholder="{{applicant.Last_Name}}"
                                            required>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="form-label">ID No/Passport No.</label>
                                        <input type="text" class="form-control" name="idNumber"
                                            value="{{applicant.ID_Number}}" placeholder="{{applicant.ID_Number}}"
                                            required>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Gender</label>
                                        <select class="form-select" name="gender" required>
                                            {% if applicant.Gender == 'Male' %}
                                            <option value="1" selected>Male</option>
                                            {% elif applicant.Gender == 'Female' %}
                                            <option value="2" selected>Female</option>
                                            {% endif %}
                                            <option selected disabled value="0">
                                                --select--</option>
                                            <option value="1">Male</option>
                                            <option value="2">Female</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Citizenship</label>
                                        <select class="form-select" id="country" name="citizenship" required>
                                            <option selected value="{{applicant.Citizenship}}">{{applicant.Citizenship}}
                                            </option>
                                            {% for country in country %}
                                            {% if country.Code != applicant.Citizenship %}
                                            <option value="{{country.Code}}">{{country.Name}}</option>
                                            {% endif %}
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="row" id="countyRow" style="display:none">
                                    <div class="col-md-6">
                                        <label class="form-label">County</label>
                                        <select class="form-select" id="county" name="countyCode" disabled>
                                            <option selected disabled value="0">
                                                --select--</option>
                                            {% for county in county %}
                                            <option value="{{county.CountyCode}}">{{county.Description}}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Ethnic Origin</label>
                                        <select class="form-select" name="ethnicOrigin" id="ethnicOrigin" disabled>
                                            <option selected disabled value="0">
                                                --select--</option>
                                            {% for tribe in tribes %}
                                            <option value="{{tribe.No}}">
                                                {{tribe.Name}}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="form-label">Marital Status</label>
                                        <select class="form-select" name="maritalStatus" required>
                                            {% if applicant.Marital_Status == 'Single' %}
                                            <option selected value="1">{{applicant.Marital_Status}}</option>
                                            <option value="2">Married</option>
                                            <option value="3">Separated</option>
                                            <option value="4">Divorced</option>
                                            <option value="5">Widow(er)</option>
                                            <option value="6">Other</option>
                                            {% elif applicant.Marital_Status == 'Married' %}
                                            <option selected value="2">{{applicant.Marital_Status}}</option>
                                            <option value="1">Single</option>
                                            <option value="3">Separated</option>
                                            <option value="4">Divorced</option>
                                            <option value="5">Widow(er)</option>
                                            <option value="6">Other</option>
                                            {% elif applicant.Marital_Status == 'Separated' %}
                                            <option selected value="3">{{applicant.Marital_Status}}</option>
                                            <option value="1">Single</option>
                                            <option value="2">Married</option>
                                            <option value="4">Divorced</option>
                                            <option value="5">Widow(er)</option>
                                            <option value="6">Other</option>
                                            {% elif applicant.Marital_Status == 'Divorced' %}
                                            <option selected value="4">{{applicant.Marital_Status}}</option>
                                            <option value="1">Single</option>
                                            <option value="2">Married</option>
                                            <option value="3">Separated</option>
                                            <option value="5">Widow(er)</option>
                                            <option value="6">Other</option>
                                            {% elif applicant.Marital_Status == 'Widow(er)' %}
                                            <option selected value="5">{{applicant.Marital_Status}}</option>
                                            <option value="1">Single</option>
                                            <option value="2">Married</option>
                                            <option value="3">Separated</option>
                                            <option value="4">Divorced</option>
                                            <option value="6">Other</option>
                                            {% elif applicant.Marital_Status == 'Other' %}
                                            <option selected value="6">{{applicant.Marital_Status}}</option>
                                            <option value="1">Single</option>
                                            <option value="2">Married</option>
                                            <option value="3">Separated</option>
                                            <option value="4">Divorced</option>
                                            <option value="5">Widow(er)</option>
                                            {% else %}
                                            <option selected disabled value="0">
                                                --select--</option>
                                            <option value="1">Single</option>
                                            <option value="2">Married</option>
                                            <option value="3">Separated</option>
                                            <option value="4">Divorced</option>
                                            <option value="5">Widow(er)</option>
                                            <option value="6">Other</option>
                                            {% endif %}
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label for="" class="form-label">Date of Birth</label>
                                        <input type="date" name="dob" class="form-control"
                                            value="{{applicant.Date_Of_Birth}}" required>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Disabled</label>
                                        <select class="form-select" name="disabled" id="disabled" required>
                                            {% if applicant.Disabled == 'Yes' %}
                                            <option selected value="1">Yes</option>
                                            <option value="0">No</option>
                                            {% elif applicant.Disabled == 'No' %}
                                            <option selected value="0">No</option>
                                            <option value="1">Yes</option>
                                            {% else %}
                                            <option selected value="0">--select--</option>
                                            <option value="0">No</option>
                                            <option value="1">Yes</option>
                                            {% endif %}
                                        </select>
                                    </div>
                                </div>
                                <div class="row hiddenRow">
                                    <div class="col-md-12">
                                        <label class="form-label">NCPWD Reg No.</label>
                                        <input type="number" class="form-control" name="disabilityGrade"
                                            value="{{applicant.Disability_Grade}}" id="disability" disabled>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="form-label">Phone Number</label>
                                        <input type="text" class="form-control" name="phoneNumber"
                                            value="{{applicant.Cellular_Phone_Number}}" required>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Postal Address</label>
                                        <input type="text" class="form-control" value="{{applicant.Postal_Address}}"
                                            name="postalAddress">
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Postal Code</label>
                                        <input type="text" class="form-control" value="{{applicant.Post_Code}}"
                                            name="postalCode">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <label class="form-label">Residential Address</label>
                                        <input type="text" class="form-control" name="residentialAddress"
                                            value="{{applicant.Residential_Address}}">
                                    </div>
                                </div>
                                <button type="submit" class="btn button-87 my-3 w-100">Submit <i
                                        class="las la-arrow-right"></i></button>
                            </form>
                        </section>
                        <section>
                            <h2 class="my-4 text-center mx-auto">Education/Training</h2>
                            <form method="post" id="AcademicForm">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="form-label">Start Date</label>
                                        <input type="date" name="startDate" id="Aca_startDate" class="form-control"
                                            required>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">End Date</label>
                                        <input type="date" name="endDate" id="Aca_endDate" class="form-control"
                                            required>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Education Type</label>
                                        <select class="form-select" name="educationType" id="Aca_educationType"
                                            required>
                                            <option selected value="0">Choose...</option>
                                            <option value="1">Primary</option>
                                            <option value="2">High School</option>
                                            <option value="3">College</option>
                                            <option value="4">University</option>
                                            <option value="5">Professional</option>
                                            <option value="6">Vocational</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="form-label">Education Level</label>
                                        <select class="form-select" name="educationLevel" id="Aca_educationLevel"
                                            required>
                                            <option selected value="0">Choose...</option>
                                            <option value="1">Certificate</option>
                                            <option value="2">Diploma</option>
                                            <option value="3">Higher/Post Graduate Diploma</option>
                                            <option value="4">Bachelors Degree</option>
                                            <option value="5">Masters Degree</option>
                                            <option value="6">Doctorate</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Field Of Study</label>
                                        <select class="form-select" name="fieldOfStudy" id="Aca_fieldOfStudy" required>
                                            <option selected disabled value="">Choose...</option>
                                            {% for Study in Study %}
                                            <option value="{{Study.Code}}">{{Study.Description}}</option>
                                            {% empty %}
                                            <option value="0">No Field of Study</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Qualification</label>
                                        <select class="form-select" name="qualificationCode"
                                            id="AcademicQualificationCode" required>
                                            <option selected disabled value="">Choose...</option>
                                            {% for qualifications in qualifications %}
                                            <option value="{{qualifications.Code}}">{{qualifications.Description}}
                                            </option>
                                            {% endfor %}
                                            <option value="Other">OTHER QUALIFICATION</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row" style="display: none;" id="otherAcademicRow">
                                    <div class="col-md-12">
                                        <label class="form-label">Other Qualification</label>
                                        <input type="text" class="form-control" name="otherQualification"
                                            id="otherAcademic" disabled>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="form-label">Institution Name</label>
                                        <input type="text" class="form-control" name="institutionName"
                                            id="Aca_institutionName" required>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Proficiency Level</label>
                                        <select class="form-select" name="proficiencyLevel" id="Aca_proficiencyLevel"
                                            required>
                                            <option selected disabled value="">Choose...</option>
                                            <option value="1">Not Rated</option>
                                            <option value="2">First Class</option>
                                            <option value="3">Second Class(Upper)</option>
                                            <option value="4">Second Class(Lower)</option>
                                            <option value="5">Second Class</option>
                                            <option value="6">Pass</option>
                                            <option value="7">Distinction</option>
                                            <option value="8">Credit</option>
                                            <option value="9">MBA</option>
                                            <option value="10">PhD</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Country</label>
                                        <select class="form-select" name="country" id="Aca_country" required>
                                            <option selected disabled value="">Choose...</option>
                                            {% for res in country %}
                                            <option value="{{res.Code}}">{{res.Name}}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label class="form-label">Highest Level</label>
                                        <select class="form-select" name="isHighestLevel" id="isHighestLevel" required>
                                            <option selected disabled value="">Choose...</option>
                                            <option value="False">No</option>
                                            <option value="True">Yes</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Grade</label>
                                        <input type="text" class="form-control" name="grade" id="Aca_grade">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <label class="form-label">Description</label>
                                        <textarea class="form-control" name="description" id="Aca_description"
                                            rows="3"></textarea>
                                    </div>
                                </div>
                                <div class="money-spinner mx-auto text-center" id="money-spinner" style="display: none">
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif"
                                        alt="Loading Gif" style="height: 100px;" class="img-fluid">
                                </div>
                                <p id="output" class="my-3" style="color:#e51e25;font-weight: bolder;"></p>
                                <button type="submit" class="btn button-87 my-3 w-100">Add</button>
                            </form>
                            <table id="AcademicQualificationsTable"
                                class="display table table-striped table-bordered dt-responsive table-responsive-lg"
                                style="width:100%">
                                <thead>
                                    <tr id="tops">
                                        <th id="long">Start Date</th>
                                        <th>End Date</th>
                                        <th>Education Type</th>
                                        <th>Education Level</th>
                                        <th>Qualification Name</th>
                                    </tr>

                                </thead>
                                <tbody>
                                    <tr>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </section>
                        <section>
                            <h2 class="my-4 text-center mx-auto">Work Experience</h2>
                            <form method="POST" id="JobExperienceForm">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="form-label">Job Title</label>
                                        <input type="text" class="form-control" name="jobTitle" id="job_jobTitle"
                                            required>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Current Employment</label>
                                        <select class="form-select" name="isPresentEmployment" id="isPresentEmployment"
                                            required>
                                            <option selected disabled value="">Choose...</option>
                                            <option value="False">No</option>
                                            <option value="True">Yes</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Start Date</label>
                                        <input type="date" name="startDate" id="job_startDate" class="form-control"
                                            required>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="form-label">End Date</label>
                                        <input type="date" name="endDate" id="job_endDate" class="form-control"
                                            disabled>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Employer</label>
                                        <input type="text" class="form-control" name="employer" id="job_employer"
                                            required>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Industry</label>
                                        <select class="form-select" name="industry" id="job_industry" required>
                                            <option selected disabled value="">Choose...</option>
                                            {% for industry in industry %}
                                            <option value="{{industry.Code}}">{{industry.Description}}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="row">

                                    <div class="col-md-4">
                                        <label class="form-label">Hierarchy Level</label>
                                        <select class="form-select" name="hierarchyLevel" id="job_hierarchyLevel"
                                            required>
                                            <option selected disabled value="">Choose...</option>
                                            <option value="1">Executive/Director</option>
                                            <option value="2">Senior-Level Manager</option>
                                            <option value="3">Middle-Level Manager</option>
                                            <option value="4">First-Level Manager</option>
                                            <option value="5">Supervisor</option>
                                            <option value="6">Consultant</option>
                                            <option value="7">Support Staff</option>
                                            <option value="8">Intern</option>
                                            <option value="9">Trainee/Attachee</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Functional Area</label>
                                        <select class="form-select" id="job_functionalArea" name="functionalArea"
                                            required>
                                            <option selected disabled value="">Choose...</option>
                                            {% for area in functional_areas %}
                                            <option value="{{area.Code}}">{{area.Description}}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Country</label>
                                        <select class="form-select" id="job_country" name="country" required>
                                            <option selected disabled value="">Choose...</option>
                                            {% for res in country %}
                                            <option value="{{res.Code}}">{{res.Name}}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="form-label">Location</label>
                                        <input type="text" class="form-control" name="location" id="job_location">
                                        <div class="invalid-feedback">
                                            Enter Job Location
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Employer Email</label>
                                        <input type="email" class="form-control" name="employerEmail"
                                            id="job_employerEmail">
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Employer Postal Address</label>
                                        <input type="text" class="form-control" name="employerPostalAddress"
                                            id="job_employerPostalAddress">
                                    </div>

                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <label class="form-label">Description</label>
                                        <textarea class="form-control" name="description" rows="3"
                                            id="job_description"></textarea>
                                    </div>
                                </div>
                                <div class="money-spinner mx-auto text-center" id="job-spinner" style="display: none">
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif"
                                        alt="Loading Gif" style="height: 100px;" class="img-fluid">
                                </div>
                                <p id="jobOutput" class="my-3" style="color:#e51e25;font-weight: bolder;"></p>
                                <button type="submit" class="btn button-87 my-3 w-100">Add</button>
                            </form>
                            <table id="JobExperienceTable"
                                class="display my-3 table table-striped table-bordered dt-responsive table-responsive-lg"
                                style="width:100%">
                                <thead>
                                    <tr id="tops">
                                        <th id="long">Start Date</th>
                                        <th>End Date</th>
                                        <th>Employer</th>
                                        <th>Job Title</th>
                                        <th>Present Employment</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </section>
                        <section>
                            <h2 class="my-4 text-center mx-auto">Professional Courses</h2>
                            <form method="post" id="proQualificationForm">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-6">
                                        <label class="form-label">Qualification</label>
                                        <select class="form-select" id="proQualificationCode" name="qualificationCode"
                                            required>
                                            <option selected disabled value="">Choose...</option>
                                            {% for qualifications in qualifications %}
                                            <option value="{{qualifications.Code}}">{{qualifications.Description}}
                                            </option>
                                            {% endfor %}
                                            <option value="Other">OTHER QUALIFICATION</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Section Level</label>
                                        <select class="form-select" name="sectionLevel" id="pro_sectionLevel">
                                            <option selected value="0">Choose...</option>
                                            <option value="1">Level 1</option>
                                            <option value="2">Level 2</option>
                                            <option value="3">Level 3</option>
                                            <option value="4">Level 4</option>
                                            <option value="5">Level 5</option>
                                            <option value="6">Level 6</option>
                                            <option value="7">Level 7</option>
                                            <option value="8">Level 8</option>
                                            <option value="9">Level 9</option>
                                            <option value="10">Level 10</option>
                                        </select>
                                    </div>
                                    <div class="row" style="display:none" id="proQulificationRor">
                                        <div class="col-md-12">
                                            <label class="form-label">Other Qualification</label>
                                            <input type="text" class="form-control" name="otherQualification"
                                                id="proQulification" disabled>
                                        </div>
                                    </div>
                                </div>
                                <div class="money-spinner mx-auto text-center" id="pro-spinner" style="display: none">
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif"
                                        alt="Loading Gif" style="height: 100px;" class="img-fluid">
                                </div>
                                <p id="proOutput" class="my-3" style="color:#e51e25;font-weight: bolder;"></p>
                                <button type="submit" class="btn button-87 my-3 w-100">Add</button>
                            </form>
                            <table id="proCoursesTable"
                                class="display my-3 table table-striped table-bordered dt-responsive table-responsive-lg"
                                style="width:100%">
                                <thead>
                                    <tr id="tops">
                                        <th>Qualification Name</th>
                                        <th>Section Level</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </section>
                        <section>
                            <h2 class="my-4 text-center mx-auto">Professional Memberships</h2>
                            <form method="post" id="professionalBodyForm">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-6">
                                        <label class="form-label">Professional Body</label>
                                        <select class="form-select" name="professionalBody" id="ms_professionalBody"
                                            required>
                                            <option selected disabled value="">Choose...</option>
                                            {% for pro_bodies in pro_bodies %}
                                            <option value="{{pro_bodies.Name}}">{{pro_bodies.Description2}}</option>
                                            {% endfor %}
                                            <option value="Other">OTHER PROFESSIONAL BODY</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Membership No</label>
                                        <input type="text" class="form-control" name="membershipNo" id="ms_membershipNo"
                                            required>
                                    </div>

                                </div>
                                <div class="row" id="otherProfessionalBodyRow" style="display:none">
                                    <div class="col-md-12">
                                        <label class="form-label">Other Professional Body</label>
                                        <input type="text" class="form-control" name="otherProfessionalBody"
                                            id="otherProfessionalBody" disabled>
                                    </div>
                                </div>
                                <div class="money-spinner mx-auto text-center" id="member-spinner"
                                    style="display: none">
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif"
                                        alt="Loading Gif" style="height: 100px;" class="img-fluid">
                                </div>
                                <p id="msOutput" class="my-3" style="color:#e51e25;font-weight: bolder;"></p>

                                <button type="submit" class="btn button-87 my-3 w-100">Add</button>

                            </form>
                            <table id="proMembersTable"
                                class="display my-3 table table-striped table-bordered dt-responsive table-responsive-lg"
                                style="width:100%">
                                <thead>
                                    <tr id="tops">
                                        <th>Professional Body</th>
                                        <th>Membership No.</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </section>
                        <section>
                            <h2 class="my-4 text-center mx-auto">Hobbies</h2>
                            <form method="post" id="hobbyForm">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-12">
                                        <label class="form-label">Hobby</label>
                                        <textarea class="form-control" name="hobby" id="j_hobby" rows="3"
                                            required></textarea>
                                    </div>
                                </div>
                                <div class="money-spinner mx-auto text-center" id="hobby-spinner" style="display: none">
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif"
                                        alt="Loading Gif" style="height: 100px;" class="img-fluid">
                                </div>
                                <p id="hobbyOutput" class="my-3" style="color:#e51e25;font-weight: bolder;"></p>
                                <button type="submit" class="btn button-87 my-3 w-100">Add</button>
                            </form>
                            <table id="hobbyTable"
                                class="display my-3 table table-striped table-bordered dt-responsive table-responsive-lg"
                                style="width:100%">
                                <thead>
                                    <tr id="tops">
                                        <th>Hobbies</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </section>
                        <section>
                            <h2 class="my-4 text-center mx-auto">Referees</h2>
                            <form method="post" id="refForm">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="form-label">Full Name</label>
                                        <input type="text" class="form-control" name="names" id="j_names" required>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Designation</label>
                                        <input type="text" class="form-control" name="designation" id="j_designation"
                                            required>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Company</label>
                                        <input type="text" class="form-control" name="company" id="j_company" required>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label class="form-label">Mobile No.</label>
                                        <input type="text" class="form-control" name="telephoneNo" id="j_telephoneNo"
                                            required>

                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Email</label>
                                        <input type="email" class="form-control" name="email" id="j_email" required>
                                    </div>
                                </div>
                                <div class="money-spinner mx-auto text-center" id="ref-spinner" style="display: none">
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif"
                                        alt="Loading Gif" style="height: 100px;" class="img-fluid">
                                </div>
                                <p id="innerefree" class="my-3" style="color:#e51e25;font-weight: bolder;"></p>
                                <button type="submit" class="btn button-87 my-3 w-100">Add</button>
                            </form>
                            <table id="refereeTable"
                                class="display my-3 table table-striped table-bordered dt-responsive table-responsive-lg"
                                style="width:100%">
                                <thead>
                                    <tr id="tops">
                                        <th>Name</th>
                                        <th>Designation</th>
                                        <th>Company</th>
                                        <th>Mobile No</th>
                                        <th>Email</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<script>
    const nextBtn = document.getElementById("nextBtn");
    const prevBtn = document.getElementById("prevBtn");
    const tabs = document.querySelectorAll(".tabs > input");
    const lastTab = tabs.length - 1;
    let currentTab = 0;

    function showHideNextBtn() {
        if (currentTab === lastTab) {
            nextBtn.style.display = "none";
        } else {
            nextBtn.style.display = "";
        }
    }

    function showHidePrevBtn() {
        if (currentTab === 0) {
            prevBtn.style.display = "none";
        } else {
            prevBtn.style.display = "";
        }
    }

    showHideNextBtn();
    showHidePrevBtn();

    nextBtn.addEventListener("click", function () {
        currentTab++;
        if (currentTab > lastTab) {
            currentTab = 0;
        }
        tabs[currentTab].checked = true;
        showHideNextBtn();
        showHidePrevBtn();
    });

    prevBtn.addEventListener("click", function () {
        currentTab--;
        if (currentTab < 0) {
            currentTab = lastTab;
        }
        tabs[currentTab].checked = true;
        showHideNextBtn();
        showHidePrevBtn();
    });


    function loadAcademicData() {
        $.ajax({
            url: '{% url "AcademicQualifications" %}',
            type: "GET",
            dataType: "json",
            success: function (data) {
                var tableBody = $('#AcademicQualificationsTable tbody');
                tableBody.empty(); // clear existing rows if any
                // iterate through the data and append to the table
                for (var i = 0; i < data[1].length; i++) {
                    var Start_Date = data[1][i].Start_Date;
                    var End_Date = data[1][i].End_Date;
                    var Education_Type = data[1][i].Education_Type;
                    var Education_Level = data[1][i].Education_Level;
                    var Qualification_Name = data[1][i].Qualification_Name

                    var row = $('<tr>');
                    row.append($('<td>').text(Start_Date));
                    row.append($('<td>').text(End_Date));
                    row.append($('<td>').text(Education_Type));
                    row.append($('<td>').text(Education_Level));
                    row.append($('<td>').text(Qualification_Name));
                    tableBody.append(row);
                }
            },
            error: function (xhr, status, error) {
                console.log("Error:", error);
            },
        });
    }

    function loadExperienceData() {
        $.ajax({
            url: '{% url "QyApplicantJobExperience" %}',
            type: "GET",
            dataType: "json",
            success: function (data) {
                var tableBody = $('#JobExperienceTable tbody');
                tableBody.empty(); // clear existing rows if any
                // iterate through the data and append to the table
                for (var i = 0; i < data[1].length; i++) {
                    var Start_Date = data[1][i].Start_Date;
                    var End_Date = data[1][i].End_Date;
                    var Employer = data[1][i].Employer;
                    var Job_Title = data[1][i].Job_Title;
                    var Present_Employment = data[1][i].Present_Employment

                    var row = $('<tr>');
                    row.append($('<td>').text(Start_Date));
                    row.append($('<td>').text(End_Date));
                    row.append($('<td>').text(Employer));
                    row.append($('<td>').text(Job_Title));
                    row.append($('<td>').text(Present_Employment));
                    tableBody.append(row);
                }
            },
            error: function (xhr, status, error) {
                console.log("Error:", error);
            },
        });
    }

    function loadProCoursesData() {
        $.ajax({
            url: '{% url "QyApplicantJobProfessionalCourses" %}',
            type: "GET",
            dataType: "json",
            success: function (data) {
                var tableBody = $('#proCoursesTable tbody');
                tableBody.empty(); // clear existing rows if any
                // iterate through the data and append to the table
                for (var i = 0; i < data[1].length; i++) {
                    var Qualification_Name = data[1][i].Qualification_Name;
                    var Section_Level = data[1][i].Section_Level;

                    var row = $('<tr>');
                    row.append($('<td>').text(Qualification_Name));
                    row.append($('<td>').text(Section_Level));
                    tableBody.append(row);
                }
            },
            error: function (xhr, status, error) {
                console.log("Error:", error);
            },
        });
    }

    function loadMembershipData() {
        $.ajax({
            url: '{% url "QyApplicantProfessionalMemberships" %}',
            type: "GET",
            dataType: "json",
            success: function (data) {
                var tableBody = $('#proMembersTable tbody');
                tableBody.empty(); // clear existing rows if any
                // iterate through the data and append to the table
                for (var i = 0; i < data[1].length; i++) {
                    var Professional_Body = data[1][i].Professional_Body;
                    var MembershipNo = data[1][i].MembershipNo;
                    var Description = data[1][i].Description;

                    var row = $('<tr>');

                    row.append($('<td>').text(Professional_Body));
                    row.append($('<td>').text(MembershipNo));
                    row.append($('<td>').text(Description));
                    tableBody.append(row);
                }
            },
            error: function (xhr, status, error) {
                console.log("Error:", error);
            },
        });
    }

    function loadHobby() {
        $.ajax({
            url: '{% url "QyApplicantHobbies" %}',
            type: "GET",
            dataType: "json",
            success: function (data) {
                var tableBody = $('#hobbyTable tbody');
                tableBody.empty(); // clear existing rows if any
                // iterate through the data and append to the table
                for (var i = 0; i < data[1].length; i++) {
                    var Hobbies = data[1][i].Hobbies;
                    var MembershipNo = data[1][i].MembershipNo;
                    var Description = data[1][i].Description;

                    var row = $('<tr>');

                    row.append($('<td>').text(Hobbies));
                    tableBody.append(row);
                }
            },
            error: function (xhr, status, error) {
                console.log("Error:", error);
            },
        });
    }

    function loadRefereeData() {
        $.ajax({
            url: '{% url "QyApplicantReferees" %}',
            type: "GET",
            dataType: "json",
            success: function (data) {
                var tableBody = $('#refereeTable tbody');
                tableBody.empty(); // clear existing rows if any
                // iterate through the data and append to the table
                for (var i = 0; i < data[1].length; i++) {
                    var Names = data[1][i].Names;
                    var Designation = data[1][i].Designation;
                    var Company = data[1][i].Company;
                    var Telephone_No = data[1][i].Telephone_No;
                    var E_Mail = data[1][i].E_Mail

                    var row = $('<tr>');
                    row.append($('<td>').text(Names));
                    row.append($('<td>').text(Designation));
                    row.append($('<td>').text(Company));
                    row.append($('<td>').text(Telephone_No));
                    row.append($('<td>').text(E_Mail));
                    tableBody.append(row);
                }
            },
            error: function (xhr, status, error) {
                console.log("Error:", error);
            },
        });
    }
    //Disability Jquery
    $(document).ready(function () {
        $('#countyRow').hide();

        // Attach a change event listener to the country select
        $('#country').on('change', function () {
            // Get the selected value
            var selectedValue = $(this).val();

            // If the selected value is 'KE', show the county row and enable the county select
            if (selectedValue === 'KE') {
                $('#countyRow').show(1000);
                $('#county').prop('disabled', false);
                $('#ethnicOrigin').prop('disabled', false);
            } else {
                // Otherwise, hide the county row and disable the county select
                $('#countyRow').hide(500);
                $('#county').prop('disabled', true);
                $('#ethnicOrigin').prop('disabled', true);
            }
        });

        loadAcademicData();
        loadExperienceData();
        loadProCoursesData();
        loadMembershipData();
        loadHobby();
        loadRefereeData();
        //DOB Validations
        var dobInput = $('input[name="dob"]');

        // Disable dates before 1930
        dobInput.attr('min', '1930-01-01');

        // Disable dates for people under 17 years old
        var today = new Date();
        var minDate = new Date(today.getFullYear() - 17, today.getMonth(), today.getDate());
        var dd = minDate.getDate();
        var mm = minDate.getMonth() + 1;
        var yyyy = minDate.getFullYear();
        if (dd < 10) {
            dd = '0' + dd;
        }
        if (mm < 10) {
            mm = '0' + mm;
        }
        var formattedMinDate = yyyy + '-' + mm + '-' + dd;
        dobInput.attr('max', formattedMinDate);

        // DOB End
        var disabledSelect = $('#disabled');
        var disabilityInput = $('#disability');
        $('.hiddenRow').hide();


        // Check initial value of the select on page load
        if (disabledSelect.val() == '1') {
            disabilityInput.prop('disabled', false);
            $('.hiddenRow').show(1000);
        }

        // Attach event listener to the select element
        disabledSelect.on('change', function () {
            if (this.value === '1') {
                disabilityInput.prop('disabled', false);
                $('.hiddenRow').show(1000);
            } else {
                disabilityInput.prop('disabled', true);
                $('.hiddenRow').hide(500);
            }
        });

        // Academic Qualification JS
        $('#AcademicQualificationCode').on('change', function () {
            if (this.value == "Other") {
                $('#otherAcademic').prop('disabled', false);
                $('#otherAcademicRow').show(500);
            } else {
                $('#otherAcademic').prop('disabled', true);
                $('#otherAcademicRow').hide(500);
            }
        });
        $(document).on('submit', '#AcademicForm', function (e) {
            e.preventDefault();
            $('#money-spinner').show(500);
            $.ajax({
                type: 'POST',
                url: '{% url "FnApplicantAcademicQualification" %}',
                data: {
                    startDate: $("#Aca_startDate").val(),
                    endDate: $("#Aca_endDate").val(),
                    educationType: $("#Aca_educationType").val(),
                    educationLevel: $("#Aca_educationLevel").val(),
                    fieldOfStudy: $("#Aca_fieldOfStudy").val(),
                    qualificationCode: $("#AcademicQualificationCode").val(),
                    institutionName: $("#Aca_institutionName").val(),
                    proficiencyLevel: $("#Aca_proficiencyLevel").val(),
                    country: $("#Aca_country").val(),
                    region: $("#Aca_region").val(),
                    isHighestLevel: $("#isHighestLevel").val(),
                    grade: $("#Aca_grade").val(),
                    otherQualification: $("#otherAcademic").val(),
                    description: $("#Aca_description").val(),
                    csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
                },
                success: function (response) {
                    $("#Aca_startDate").val("")
                    $("#Aca_endDate").val("")
                    $("#Aca_educationType").val("")
                    $("#Aca_educationLevel").val("")
                    $("#Aca_fieldOfStudy").val("")
                    $("#AcademicQualificationCode").val("")
                    $("#Aca_institutionName").val("")
                    $("#Aca_proficiencyLevel").val("")
                    $("#Aca_country").val("")
                    $("#Aca_region").val("")
                    $("#isHighestLevel").val("")
                    $("#Aca_grade").val("")
                    $("#otherAcademic").val("")
                    $("#Aca_description").val("");
                    $('#money-spinner').hide(500);
                    $("p#output").append('Saved. Add More Academic Qualifications');
                    loadAcademicData();
                }
            })
        });
        // **** End****

        //Work Experience
        var isPresentEmployment = document.getElementById("isPresentEmployment");
        var endDate = document.getElementById("job_endDate");

        isPresentEmployment.addEventListener("change", function () {
            if (isPresentEmployment.value === "True") {
                endDate.disabled = true;
            } else {
                endDate.disabled = false;
            }
        });
        $(document).on('submit', '#JobExperienceForm', function (e) {
            e.preventDefault();
            $('#job-spinner').show(500);
            $.ajax({
                type: 'POST',
                url: '{% url "JobExperience" %}',
                data: {
                    startDate: $("#job_startDate").val(),
                    endDate: $("#job_endDate").val(),
                    employer: $("#job_employer").val(),
                    industry: $("#job_industry").val(),
                    hierarchyLevel: $("#job_hierarchyLevel").val(),
                    functionalArea: $("#job_functionalArea").val(),
                    jobTitle: $("#job_jobTitle").val(),
                    isPresentEmployment: $("#isPresentEmployment").val(),
                    country: $("#job_country").val(),
                    location: $("#job_location").val(),
                    employerEmail: $("#job_employerEmail").val(),
                    employerPostalAddress: $("#job_employerPostalAddress").val(),
                    description: $("#job_description").val(),
                    csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
                },
                success: function () {
                    $("#job_startDate").val("")
                    $("#job_endDate").val("")
                    $("#job_employer").val("")
                    $("#job_industry").val("")
                    $("#job_hierarchyLevel").val("")
                    $("#job_functionalArea").val("")
                    $("#job_jobTitle").val("")
                    $("#isPresentEmployment").val("")
                    $("#job_country").val("")
                    $("#job_location").val("")
                    $("#job_employerEmail").val("")
                    $("#job_employerPostalAddress").val("")
                    $("#job_description").val("")
                    $('#job-spinner').hide(500);
                    $("p#jobOutput").append('Saved. Add More Job Experience');
                    loadExperienceData();
                }
            })
        });

        // Professional Qualification JS
        $(document).ready(function () {
            $('#proQualificationCode').on('change', function () {
                if (this.value == "Other") {
                    $('#proQulification').prop('disabled', false);
                    $('#proQulificationRor').show(500);
                } else {
                    $('#proQulification').prop('disabled', true);
                    $('#proQulificationRor').hide(500);
                }
            });
        })
        $(document).on('submit', '#proQualificationForm', function (e) {
            e.preventDefault();
            $('#pro-spinner').show(500);
            $.ajax({
                type: 'POST',
                url: '{% url "FnApplicantProfessionalCourse" %}',
                data: {
                    qualificationCode: $("#proQualificationCode").val(),
                    sectionLevel: $("#pro_sectionLevel").val(),
                    otherQualification: $("#proQulification").val(),
                    csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
                },
                success: function () {
                    $("#proQualificationCode").val("")
                    $("#pro_sectionLevel").val("")
                    $("#proQulification").val("")
                    $("p#proOutput").append('Saved. Add More Professional Qualification');
                    $('#pro-spinner').hide(500);
                    loadProCoursesData();
                }
            })
        });
        // **** End****
        // ProfessionalMembership JS
        $('#ms_professionalBody').on('change', function () {
            if (this.value == "Other") {
                $('#otherProfessionalBody').prop('disabled', false);
                $('#otherProfessionalBodyRow').show(500);
            } else {
                $('#otherProfessionalBody').prop('disabled', true);
                $('#otherProfessionalBodyRow').hide(500);
            }
        });
        $(document).on('submit', '#professionalBodyForm', function (e) {
            e.preventDefault();
            $('#member-spinner').show(500);
            $.ajax({
                type: 'POST',
                url: '{% url "FnApplicantProfessionalMembership" %}',
                data: {
                    professionalBody: $("#ms_professionalBody").val(),
                    membershipNo: $("#ms_membershipNo").val(),
                    otherProfessionalBody: $("#otherProfessionalBody").val(),
                    csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
                },
                success: function () {
                    $("#ms_professionalBody").val("")
                    $("#ms_membershipNo").val("")
                    $("#otherProfessionalBody").val("")
                    $("p#msOutput").append('Saved. Add More Professional Bodies');
                    $('#member-spinner').hide(500);
                    loadMembershipData();
                }
            })
        });
        // **** End****
        // Hobby JS

        $(document).on('submit', '#hobbyForm', function (e) {
            e.preventDefault();
            $('#hobby-spinner').show(500);
            $.ajax({
                type: 'POST',
                url: '{% url "FnApplicantHobby" %}',
                data: {
                    hobby: $("#j_hobby").val(),
                    csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
                },
                success: function () {
                    $("#j_hobby").val("")
                    $("p#hobbyOutput").append('Saved. Add More Hobbies');
                    $('#hobby-spinner').hide(500);
                    loadHobby();
                }
            })
        });
        // **** End****
        // Hobby JS
        $(document).on('submit', '#refForm', function (e) {
            e.preventDefault();
            $('#ref-spinner').show(500);
            $.ajax({
                type: 'POST',
                url: '{% url "FnApplicantReferee" %}',
                data: {
                    names: $("#j_names").val(),
                    designation: $("#j_designation").val(),
                    company: $("#j_company").val(),
                    telephoneNo: $("#j_telephoneNo").val(),
                    email: $("#j_email").val(),
                    csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
                },
                success: function () {
                    $("#j_hobby").val("")
                    $("#j_designation").val("")
                    $("#j_company").val("")
                    $("#j_telephoneNo").val("")
                    $("#j_email").val("")
                    $("p#innerefree").append('Saved. Add More Referees');
                    $('#ref-spinner').hide(500);
                    loadRefereeData();
                }
            })
        });
    });
</script>
{% endblock %}